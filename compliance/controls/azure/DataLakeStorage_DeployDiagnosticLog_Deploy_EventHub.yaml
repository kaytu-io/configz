Description: Deploys the diagnostic settings for Data Lake Storage Gen1 to stream
  to a regional Event Hub when any Data Lake Storage Gen1 which is missing this diagnostic
  settings is created or updated.
ID: deploy_diagnostic_settings_for_data_lake_storage_gen1_to_event_hub
Query:
  Connector: Azure
  Engine: odysseus-v0.0.1
  QueryToExecute: 'SELECT account_id, kaytu_description

    FROM azure_data_lake_store

    WHERE type = ''Microsoft.DataLakeStore/accounts''

    AND (kaytu_description ->> ''DiagnosticSettingsResource'')::jsonb @> ''[{"Properties":
    {"Logs": [{"Enabled": true}]}}]''

    AND (kaytu_description ->> ''DiagnosticSettingsResource'')::jsonb @> ''[{"Properties":
    {"Metrics": [{"Enabled": true}]}}]''

    AND (kaytu_description ->> ''DataLakeStoreAccount.location'') IS NOT NULL

    LIMIT 5;;

    '
Severity: ''
Title: Deploy Diagnostic Settings for Data Lake Storage Gen1 to Event Hub
